#include "LCD1602.h"

void lcd_WriteString(uint8_t addr , char * string , uint8_t len){
    lcd_SetAddr(addr);
    for(uint8_t i  = 0;i < len ; i++){
        write(string[i]);
    }       
}

void lcd_SetAddr(uint8_t addr){
    PORTD=addr;                //??????????
    lcd_enable();
}

void lcd_init(void)
 {
    lcd_clear();
    PORTD=0X38;                //??????????????????
    lcd_enable();
    PORTD=0X0c;                //????????
    lcd_enable();
    PORTD=0X06;                //??????????
    lcd_enable();
 }

void lcd_clear(void)
{
    PORTD=0X1;                
    lcd_enable();       //LCDÊ¹ÄÜ
}
  
void write(char x)
 {
  PORTD=x;                   //??????PORTD?
  rs=1;                      //??????????????
  rw=0;                      //???????????
  e=0;                       //??????
  delay5ms();
  e=1;                       //?????????LCD?????????
 }

void lcd_enable(void)
 {
   rs=0;                     //??????????????
   rw=0;                     //???????????
   e=0;                      //??????
   delay5ms();
   e=1;                      //?????????LCD?????????
 }
void delay5ms(void){
    _delay(5000);
}
